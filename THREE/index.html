<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/style.css">
        <title>Document</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <script type="importmap">
            {
              "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.141.0/build/three.module.js",
                "three/examples/jsm/loaders/FontLoader": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/loaders/FontLoader.js",
                "three/examples/jsm/geometries/TextGeometry": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/geometries/TextGeometry.js",
                "three/examples/jsm/controls/OrbitControls": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/controls/OrbitControls.js",
                "three/examples/jsm/controls/TrackballControls": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/controls/TrackballControls.js",
                "three/examples/jsm/renderers/CSS3DRenderer": "https://cdn.jsdelivr.net/npm/three@0.141.0/examples/jsm/renderers/CSS3DRenderer.js"
              }
            }
          </script>
       
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1 class="header__title" style="font-size: 46px;">CAMP<span style="color:#E95F45; font-size: 56px;">/</span></h1>
          <div class="menu">
            <h3 class="menu__bar">Hello</h3>
            <h3 class="menu__bar">About</h3>
            <h3 class="menu__bar">News</h3>
          </div>
          <div class="header__button">Sign up</div>
        </div>

        <div class="promo">
            <div class="promo__part1">
              <h1 class="title-summer"></h1>
              <!-- Тут має бути код інпуту який я подібний робив в джс фідл -->
              <div class="promo__part2">
              <h1 class="promo__title">CAMP'23</h1>
              <div class="sign__block">
                <input type="email" class="sign__input" placeholder="Email adress">
                <div class="sign__button">Sign up</div>
              </div>
              </div>
            </div>
            <div class="fire"></div>
        </div>

        <section class="camp">
          <h2 class="camp-title"></h2>
          <div class="camp-wrapp">
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
            <div class="card">
              <div class="card__content">
                <div class="card_gloss"></div>
                <img src="https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg" alt="" class="card__image">
                <h2 class="card__title">Артек Буковель</h2>
                <p class="card__description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nulla maiores, aliquam officiis reiciendis necessitatibus earum adipisci unde voluptatem animi dignissimos obcaecati quae consequatur similique molestias perspiciatis inventore cum totam eaque!</p>
              </div>
            </div>
          </div>
        </div>   
        </section>

        <div class="blocki" id="container"></div>
        <div class="blocki" id="blocker"></div>
        
        <script src="script/script.js"></script>
        <script type="module">
            import * as THREE from "three";
            import { FontLoader } from "three/examples/jsm/loaders/FontLoader";
            import { TextGeometry } from "three/examples/jsm/geometries/TextGeometry";
            import { OrbitControls } from "three/examples/jsm/controls/OrbitControls";
            import { TrackballControls } from "three/examples/jsm/controls/TrackballControls";
            import { CSS3DRenderer, CSS3DObject } from "three/examples/jsm/renderers/CSS3DRenderer";
            

            const fire = document.querySelector(".fire");
            const scene2 = new THREE.Scene();
            const camera2 = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);
            const initialPosition2 = new THREE.Vector3(0, 0, 3);
            camera2.position.copy(initialPosition2);
            camera2.aspect = window.innerWidth / window.innerHeight;
            camera2.updateProjectionMatrix();

            const renderer2 = new THREE.WebGLRenderer();
            renderer2.setSize(window.innerWidth / 2, window.innerHeight / 2);
            renderer2.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer2.setClearColor(0x000000, 0);

            fire.appendChild(renderer2.domElement);


            let clock = new THREE.Clock();

            let textureLoader = new THREE.TextureLoader();
            textureLoader.load("img/asset.png", (texture) => {
                const geometry = new THREE.PlaneGeometry(3, 4);
                const meshMaterial = new THREE.MeshBasicMaterial({ map: texture, transparent: true });
                let foto = new THREE.Mesh(geometry, meshMaterial);
                scene2.add(foto);

                function animation() {
                    requestAnimationFrame(animation);
                    const elapsed = clock.getElapsedTime();

                    foto.rotation.y = Math.sin(elapsed * 0.5) * 0.2;
                    foto.position.y = Math.sin(elapsed * 2) * 0.1;

                    renderer2.render(scene2, camera2);
                }
    
                animation();
            });


             const title = document.querySelector(".title-summer");
             const scene = new THREE.Scene();
             const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
             const camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
             const controls = new OrbitControls(camera, renderer.domElement);
             const initialPosition = new THREE.Vector3(0, 0, 100);
             camera.aspect = window.innerWidth / window.innerHeight;
             renderer.setSize(window.innerWidth / 2, window.innerHeight / 2);
             controls.enableDamping = true;
             controls.enableZoom = false;
             controls.minPolarAngle = Math.PI / 2;
             controls.maxPolarAngle = Math.PI / 2;
             camera.position.copy(initialPosition);

            
            

             scene.add(camera);
             const fontLoader = new FontLoader().load("https://assets.codepen.io/2017324/helvetiker_bold.typeface.json", 
               (font)=>{
                   const textGeometry = new TextGeometry("Summer",
                    {
                     font,
                     size: 25,
                     height: 6,
                     curveSegments: 3,
                     bevelEnabled: true,
                     bevelThickness: 1,
                     bevelSize: 0.5,
                     bevelSegments: 20,
                    });                
       
               textGeometry.center();

               const text = new THREE.Mesh(textGeometry, new THREE.MeshPhongMaterial({
                 color: "#333333",
                 emissive: "#e95f45",
                 specular: "#333333",
                 shininess: 150,
               })
               );
               scene.add(text);
             });
            

             renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
             renderer.setClearColor(0x000000, 0);
             title.appendChild(renderer.domElement);

             window.addEventListener("resize", 
             () => {
               camera.aspect = window.innerWidth / window.innerHeight;
               camera.updateProjectionMatrix();
               renderer.setSize(window.innerWidth / 2, window.innerHeight/2);

             });

             function animate() {
               renderer.render(scene, camera);
               controls.update()
               requestAnimationFrame(animate);
             };

             function addLight(x, y, z) {
               const spotLight = new THREE.SpotLight( 0xffffff );
               spotLight.position.set( x, y, z );
               scene.add( spotLight );
             };

             animate();
             addLight(10, 60, 30);
             camera.updateProjectionMatrix();


            //  KUB
            
             const kubScene = new THREE.Scene();
             const kubCamera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 5000);
             kubCamera.position.set(500, 350, 750);
             const kubRenderer = new CSS3DRenderer();
             kubRenderer.setSize(window.innerWidth/1.2, window.innerHeight/1.2);
             const container = document.getElementById("container");
             container.appendChild(kubRenderer.domElement);
             let group = new THREE.Group();
             group.add(new Element("https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg", 0, 0, 240, 0));
             group.add(new Element("https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg", 240, 0, 0, Math.PI / 2));
             group.add(new Element("https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg", 0, 0, -240, Math.PI));
             group.add(new Element("https://uahotels.info/cache/images/9/d/6/9d63d1f512df557c499bfa04a73bac05.detskiy-lager-artek-bukovel-lesnoy-s-polyanitsa.jpg", -240, 0, 0, -Math.PI / 2));
             kubScene.add(group);
             let kubControls = new TrackballControls(kubCamera, kubRenderer.domElement);
             kubControls.rotateSpeed = 4;
             const blocker = document.getElementById("blocker");
             blocker.style.display = "none";
             kubControls.addEventListener("start", ()=>{
              blocker.style.display = "";
             });
             kubControls.addEventListener("end", ()=>{
              blocker.style.display = "none";
             });
             
            
             function Element(imagePath, x, y, z, ry){
              const div = document.createElement("div");
              div.style.width = "480px";
              div.style.height = "360px";
              div.style.background = "#000";
              const img = document.createElement("img");
              img.src = imagePath;
              img.style.width = "480px";
              div.style.height = "360px";
              div.appendChild(img);
              const object = new CSS3DObject(div);
              object.position.set(x, y, z);
              object.rotation.y = ry;
              return object;
             }

             function yakViHochete(){
              requestAnimationFrame(yakViHochete);
              kubControls.update();
              group.rotation.y += 0.01;
              kubRenderer.render(kubScene, kubCamera);
             };
             yakViHochete();

          </script>
    </body>
</html>